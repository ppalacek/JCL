SELECT  VICT_CORR,
        HOLD_CORR_ID,
        VICT_PLAN, HOLD_PLAN,
        VICT_INSTANCE, HOLD_INSTANCE,
        VICT_LOCK_RES,
        COUNT(*) AS CNT
FROM    D2PD2B0.DPM_TIMEOUT
WHERE   VICT_TS >= '2026-01-19-00.00.00.000000'
  AND ( VICT_CORR     IN ('HATX','AISH')
     OR HOLD_CORR_ID  IN ('HATX','AISH') )
GROUP BY
        VICT_CORR,
        HOLD_CORR_ID,
        VICT_PLAN, HOLD_PLAN,
        VICT_INSTANCE, HOLD_INSTANCE,
        VICT_LOCK_RES
ORDER BY CNT DESC
FETCH FIRST 50 ROWS ONLY
WITH UR;



SELECT VICT_DBID, VICT_OBID, VICT_LOCK_RES, COUNT(*) CNT
FROM   D2PD2B0.DPM_TIMEOUT
WHERE  VICT_TS >= '2026-01-19-00.00.00.000000'
AND    (VICT_CORR_ID IN ('HATX','AISH') OR HOLD_CORR_ID IN ('HATX','AISH'))
GROUP BY VICT_DBID, VICT_OBID, VICT_LOCK_RES
ORDER BY CNT DESC
FETCH FIRST 50 ROWS ONLY
WITH UR;

SELECT T.DBID, T.OBID, T.CREATOR, T.NAME AS TABLE_NAME, T.TSNAME
FROM SYSIBM.SYSTABLES T
WHERE T.DBID = :dbid AND T.OBID = :obid;

SELECT TS.DBID, TS.PSID, TS.DBNAME, TS.NAME AS TSNAME
FROM SYSIBM.SYSTABLESPACE TS
WHERE TS.DBID = :dbid AND TS.PSID = :psid;

SELECT HOLD_CORR_ID, HOLD_PLAN, HOLD_MEMBER, COUNT(*) CNT
FROM   D2PD2B0.DPM_TIMEOUT
WHERE  VICT_TS BETWEEN :t1 AND :t2
AND    VICT_CORR_ID IN ('HATX','AISH')
GROUP BY HOLD_CORR_ID, HOLD_PLAN, HOLD_MEMBER
ORDER BY CNT DESC
FETCH FIRST 20 ROWS ONLY
WITH UR;
